@model IEnumerable<EquipmentModel>

<link rel="stylesheet" href="https://kendo.cdn.telerik.com/2019.3.1023/styles/kendo.default-v2.min.css" />

<script src="https://kendo.cdn.telerik.com/2019.3.1023/js/jquery.min.js"></script>
<script src="https://kendo.cdn.telerik.com/2019.3.1023/js/kendo.all.min.js"></script>


@*@Model.Sub1_number -@Model.Sub1_description
    <br />&nbsp;&nbsp;&nbsp;
    @Model.Sub2_number -@Model.Sub2_description
    <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    @Model.Sub3_number -@Model.Sub3_description
    <br />&nbsp;&nbsp;&nbsp;

    <style>
        /* width */
        ::-webkit-scrollbar {
            width: 10px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #888;
        }

            /* Handle on hover */
            ::-webkit-scrollbar-thumb:hover {
                background: #555;
            }
    </style>*@

@*<script src="~/MaintenanceAdmin/js/admin.js"></script>
    <link href="~/MaintenanceAdmin/css/style2.css" rel="stylesheet">
    <script src="~/MaintenanceAdmin/plugins/jquery-slimscroll/jquery.slimscroll.js"></script>
    <script src="~/MaintenanceAdmin/plugins/jquery/jquery.min.js"></script>*@


<section>



    <div id="example">
        <div class="demo-section k-content" style="width: 22%; height: 600px;
    background-color: #ffff;
    overflow: scroll;">
            <div class="container">
                <div style="float:left;width:15%">
                    <button class="btn btn-success"><i class="fa fa-search" aria-hidden="true"></i></button>
                </div>
                <div style="float:left;width:80%;position:relative;left:-7px;">
                    <input class="form-control" id="searchbar" onkeyup="search_sidebar()" type="text"
                           name="search" placeholder="Search ..">
                </div>

            </div>


            @*<li data-expanded="true">
        <span class="k-sprite folder"></span>
          Equipments
        <ul>
            <li data-expanded="true">
               <span class="k-sprite folder">@Model.Sub1_number-@Model.Sub1_description</span>
                <ul>
                    <li><span class="k-sprite "></span>@Model.Sub2_number-@Model.Sub2_description

                    </li>
                    <li><span class="k-sprite "></span>
                        <ul>
                            <li><span class="k-sprite "></span>@Model.Sub3_number-@Model.Sub3_description</li>
                        </ul>
                    </li>

                        </ul>
                    </li>

                </ul>
            </li>*@

            <ul id="treeview">

                @foreach (var item in Model.Where(f => f.Sub1_number != null && f.Sub1_description != null))
                {

                <li class="data">
                    <a href="">
                        <span>@item.Sub1_number-@item.Sub1_description</span>
                        </a>
                        <ul>
                            @foreach (var item2 in Model.Where(f => f.Sub2_number != null && f.Sub2_description != null && f.Type == item.Type))
                            {
                                <li class="data">
                                    @*<a asp-controller="EquipmentMaster" asp-action="ViewJobplan">*@

                                        <span>@item2.Sub2_number-@item2.Sub2_description</span>
                                    @*</a>*@
                                    <ul>

                                        @foreach (var item3 in Model.Where(f => f.Sub3_number != null && f.Sub3_description != null && f.Type == item2.Type))
                                        {
                                        <li class="data">
                                            @*<a asp-controller="EquipmentMaster" asp-action="ViewJobplan">*@
                                                <span>@item3.Sub3_number-@item3.Sub3_description</span>
                                                @*</a>*@
                                                <ul>
                                                    @*@foreach (var item4 in Model.Where(f => f.Sub4_number != null && f.Sub4_description != null && f.Type == item3.Type))
                                                    {
                                                    <li class="data">
                                                        <a asp-controller="EquipmentMaster" asp-action="ViewJobplan">
                                                            <span>@item4.Sub4_number-@item4.Sub4_description</span>
                                                            </a>
                                                            <ul>
                                                                @foreach (var item5 in Model.Where(f => f.Sub5_number != null && f.Sub5_description != null && f.Type == item4.Type))
                                                                {
                                                                <li class="data">
                                                                    <a asp-controller="EquipmentMaster" asp-action="ViewJobplan">
                                                                        <span>@item5.Sub5_number-@item.Sub5_description</span>
                                                                        </a>
                                                                </li>
                                                                }
                                                            </ul>


                                                    </li>
                                                    }*@
                                                </ul>

                                        </li>
                                        }
                                    </ul>
                                </li>

                            }

                        </ul>
                </li>


                }
            </ul>


            @*@foreach (var item in Model)
        {
            <li>
                <span>@item.Sub1_number-@item.Sub1_description</span>
                <ul class="nested">
                    <li>@Model.Sub2_number-@Model.Sub2_description</li>
                    <li>Coffee</li>
                    <li>
                        <span>@item.Sub2_number-@item.Sub2_description</span>
                        <ul class="nested">
                            <li>Black Tea</li>
                        <li>White Tea</li>
                            <li>
                                <span>@item.Sub3_number-@item.Sub3_description</span>
                                <ul class="nested">
                                    <li>
                                        <span>@item.Sub4_number-@item.Sub4_description</span>
                                        <ul class="nested">
                                            <li>
                                                <span>@item.Sub5_number-@item.Sub5_description</span>




                                            </li>

                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        }*@

            @*</li>
        </ul>*@


            @*@foreach (var equipment in Model.Where(f => f.Sub1_number != null && f.Sub1_description != null))
        {
            @equipment.Sub1_number<b>-</b>@equipment.Sub1_description;
            <br />
            <br />
            <br />






        }*@
        </div>

    </div>
    @*</aside>*@
</section>


<script>
    $(document).ready(function () {
        $("#treeview").kendoTreeView();
    });
</script>

<style>
    #treeview .k-sprite {
        background-image: url("../content/web/treeview/coloricons-sprite.png");
    }

    .rootfolder {
        background-position: 0 0;
    }

    .folder {
        background-position: 0 -16px;
    }

    .pdf {
        background-position: 0 -32px;
    }

    .html {
        background-position: 0 -48px;
    }

    .image {
        background-position: 0 -64px;
    }
</style>
<script>
    function search_sidebar() {
        let input = document.getElementById('searchbar').value
        input = input.toLowerCase();
        let x = document.getElementsByClassName('data');

        for (i = 0; i < x.length; i++) {
            if (!x[i].innerHTML.toLowerCase().includes(input)) {
                x[i].style.display = "none";
            }
            else {
                x[i].style.display = "list-item";
            }
        }
    }
</script>
<style>
    #searchbar {
        margin-left: 1%;
        border-radius: 3px;
    }
</style>